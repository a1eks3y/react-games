(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(5),r=n.n(s),c=(n(11),n(4)),o=n.n(c),i=n(6),l=n(2),h=(n(13),n(14),n(0)),g=function(e){var t=e.x,n=e.y;return Object(h.jsx)("div",{className:"snakeCell",style:{marginTop:20*(n-1)+"px",marginLeft:20*(t-1)+"px"},children:Object(h.jsx)("div",{className:"CellBG"})})},O=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!0),c=Object(l.a)(r,2),O=c[0],f=c[1],u=Object(a.useState)(!0),j=Object(l.a)(u,2),p=j[0],b=j[1],d=Object(a.useState)(JSON.stringify([[1,12],[2,12],[3,12]])),m=Object(l.a)(d,2),x=m[0],y=m[1],S=Object(a.useState)(JSON.stringify([Math.floor(33*Math.random()+4),Math.floor(22*Math.random()+1)])),v=Object(l.a)(S,2),N=v[0],k=v[1],J=Object(a.useState)("Right"),w=Object(l.a)(J,2),M=w[0],L=w[1],C=M,E=function(e){console.log(e);var t=JSON.parse(x);switch(e.code){case"KeyW":t[t.length-1][1]<=t[t.length-2][1]&&(C="Up");break;case"KeyA":t[t.length-1][0]<=t[t.length-2][0]&&(C="Left");break;case"KeyD":t[t.length-2][0]<=t[t.length-1][0]&&(C="Right");break;case"KeyS":t[t.length-2][1]<=t[t.length-1][1]&&(C="Down")}console.log(C)};return Object(a.useEffect)(Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p&&!O&&document.addEventListener("keydown",E),e.t0=!p&&!O,!e.t0){e.next=5;break}return e.next=5,new Promise((function(){return setTimeout((function(){document.removeEventListener("keydown",E);var e=C||M,t=JSON.parse(x),a=t[t.length-1];switch(e){case"Up":t.push([a[0],a[1]-1]);break;case"Left":t.push([a[0]-1,a[1]]);break;case"Right":t.push([a[0]+1,a[1]]);break;case"Down":t.push([a[0],a[1]+1])}var r=!1,c=!1;t.forEach((function(e,t,n){e[0]===JSON.parse(N)[0]&&e[1]===JSON.parse(N)[1]&&(r=!0),e[0]===n[n.length-1][0]&&e[1]===n[n.length-1][1]&&t!==n.length-1&&(c=!0)})),console.log(t),(t[t.length-1][0]<1||t[t.length-1][1]<1||t[t.length-1][0]>37||t[t.length-1][1]>23)&&(c=!0),!r&&t.shift(),r&&s(n+1),c&&(f(!0),b(!0)),r&&k(JSON.stringify([Math.floor(36*Math.random()+1),Math.floor(22*Math.random()+1)])),t=JSON.stringify(t),L(C),y(t)}),75)}));case 5:case"end":return e.stop()}}),e)}))),[x,p,O]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"App",onClick:function(){O?(L("Right"),f(!1),y(JSON.stringify([[1,12],[2,12],[3,12]])),k(JSON.stringify([Math.floor(33*Math.random()+4),Math.floor(22*Math.random()+1)]))):p&&b(!1)},children:p&&!O?Object(h.jsx)("div",{style:{height:"100%",color:"white"},children:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c"}):O?Object(h.jsx)("div",{className:"GameOver",style:{alignContent:"center",display:"flex",justifyContent:"center",fontSize:"195px",color:"rgb(152,0,2)"},children:"GameOver"}):Object(h.jsxs)(h.Fragment,{children:[JSON.parse(x).map((function(e){return Object(h.jsx)(g,{x:e[0],y:e[1]},e)})),Object(h.jsx)("div",{className:"apple",style:{marginTop:20*(JSON.parse(N)[1]-1)+"px",marginLeft:20*(JSON.parse(N)[0]-1)+"px"},children:Object(h.jsx)("div",{className:"bg-apple"})})]})}),Object(h.jsx)("div",{style:{position:"absolute",fontSize:"40px",right:40,top:"calc(100vh / 2)"},children:n})]})};r.a.render(Object(h.jsx)(O,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.254a2524.chunk.js.map