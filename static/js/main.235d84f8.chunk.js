(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{11:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(5),r=n.n(s),c=(n(11),n(4)),i=n.n(c),o=n(6),l=n(2),h=(n(13),n(14),n(0)),p=function(e){var t=e.x,n=e.y;return Object(h.jsx)("div",{className:"snakeCell",style:{marginTop:20*(n-1)+"px",marginLeft:20*(t-1)+"px"},children:Object(h.jsx)("div",{className:"CellBG"})})},u=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(!1),c=Object(l.a)(r,2),u=c[0],O=c[1],d=Object(a.useState)(!0),f=Object(l.a)(d,2),j=f[0],b=f[1],g=Object(a.useState)(JSON.stringify([[1,12],[2,12],[3,12]])),m=Object(l.a)(g,2),x=m[0],y=m[1],w=Object(a.useState)(JSON.stringify([Math.floor(33*Math.random()+4),Math.floor(22*Math.random()+1)])),S=Object(l.a)(w,2),v=S[0],N=S[1],k=Object(a.useState)("Right"),J=Object(l.a)(k,2),M=J[0],L=J[1],C=M,E=function(e){var t=JSON.parse(x);switch(e.code){case"KeyW":t[t.length-1][1]<=t[t.length-2][1]&&(C="Up");break;case"KeyA":t[t.length-1][0]<=t[t.length-2][0]&&(C="Left");break;case"KeyD":t[t.length-2][0]<=t[t.length-1][0]&&(C="Right");break;case"KeyS":t[t.length-2][1]<=t[t.length-1][1]&&(C="Down")}};return Object(a.useEffect)(Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j&&!u&&document.addEventListener("keydown",E),e.t0=!j&&!u,!e.t0){e.next=5;break}return e.next=5,new Promise((function(){return setTimeout((function(){var e=C||M,t=JSON.parse(x),a=t[t.length-1];switch(e){case"Up":t.push([a[0],a[1]-1]);break;case"Left":t.push([a[0]-1,a[1]]);break;case"Right":t.push([a[0]+1,a[1]]);break;case"Down":t.push([a[0],a[1]+1])}var r=!1,c=!1;t.forEach((function(e,t,n){e[0]===JSON.parse(v)[0]&&e[1]===JSON.parse(v)[1]&&(r=!0),e[0]===n[n.length-1][0]&&e[1]===n[n.length-1][1]&&t!==n.length-1&&(c=!0)})),(t[t.length-1][0]<1||t[t.length-1][1]<1||t[t.length-1][0]>37||t[t.length-1][1]>23)&&(c=!0),!r&&t.shift(),r&&s(n+1),c&&(O(!0),b(!0)),r&&N(window.apple||JSON.stringify([Math.floor(36*Math.random()+1),Math.floor(22*Math.random()+1)])),t=JSON.stringify(t),L(C),y(t),document.removeEventListener("keydown",E)}),window.timedelay||120/(.01*Math.pow(n,1.5)+1))}));case 5:case"end":return e.stop()}}),e)}))),[x,j,u]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"App",style:{cursor:(u||j)&&"pointer"},onClick:function(){u?(L("Right"),O(!1),s(window.score||0),y(window.snake||JSON.stringify([[1,12],[2,12],[3,12]])),N(window.apple||JSON.stringify([Math.floor(33*Math.random()+4),Math.floor(22*Math.random()+1)]))):j&&b(!1)},children:j&&!u?Object(h.jsx)("div",{style:{height:"100%",color:"white"},children:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c"}):u?Object(h.jsx)("div",{className:"GameOver",style:{alignContent:"center",display:"flex",justifyContent:"center",fontSize:"195px",color:"rgb(152,0,2)"},children:"GameOver"}):Object(h.jsxs)(h.Fragment,{children:[JSON.parse(x).map((function(e){return Object(h.jsx)(p,{x:e[0],y:e[1]},e)})),Object(h.jsx)("div",{className:"apple",style:{marginTop:20*(JSON.parse(v)[1]-1)+"px",marginLeft:20*(JSON.parse(v)[0]-1)+"px"},children:Object(h.jsx)("div",{className:"bg-apple"})})]})}),Object(h.jsx)("div",{style:{position:"absolute",fontSize:"40px",right:40,top:"calc(100vh / 2)"},children:n})]})};r.a.render(Object(h.jsx)(u,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.235d84f8.chunk.js.map